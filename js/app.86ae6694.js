(function(e){function t(t){for(var n,o,c=t[0],a=t[1],l=t[2],m=0,d=[];m<c.length;m++)o=c[m],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,c=1;c<i.length;c++){var a=i[c];0!==s[a]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},s={app:0},r=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/screening-timer/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=a;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";i("296e")},1131:function(e,t,i){e.exports=i.p+"media/beep.d967e3d1.mp3"},1888:function(e,t,i){"use strict";i("d77a")},"296e":function(e,t,i){},4888:function(e,t,i){"use strict";i("cb2c")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"},on:{click:e.startFullscreen}},[e.isfullscreen?e._e():i("navbar"),e.updateExists?i("div",{staticClass:"alert alert-light m-3",attrs:{role:"alert"}},[i("h4",{staticClass:"alert-heading"},[e._v("Update verfügbar!")]),e._m(0),i("button",{staticClass:"btn btn-dark m-1",attrs:{type:"button"},on:{click:e.refreshApp}},[e._v(" Aktualisieren ")])]):e._e(),i("router-view"),e.isKiosk?e._e():i("div",[e.isfullscreen?i("button",{staticClass:"btn btn-outline-secondary btn-sm m-1",attrs:{type:"button"},on:{click:e.toggleFullscreen}},[e._v(" Vollbild benden ")]):i("button",{ref:"toFullscreen",staticClass:"btn btn-secondary m-1",attrs:{type:"button"},on:{click:e.toggleFullscreen}},[e._v("Vollbild starten ")])]),i("Footer")],1)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("strong",[e._v("ACHUTUNG!! - Beim Aktualisieren werden alle Timer gestoppt!")])])}],o=(i("ac1f"),i("841c"),i("d3b7"),i("3ca3"),i("ddb0"),i("9861"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),c=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"navbar navbar-dark bg-dark "},[i("a",{staticClass:"navbar-brand navbar-center .d-none .d-sm-block"},[e._v("Screening Timer")])])}],a={name:"Navbar",props:{}},l=a,u=(i("5dfc"),i("2877")),m=Object(u["a"])(l,o,c,!1,null,null,null),d=m.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"font-monospace mt-5 small",attrs:{id:"footer"}},[i("p",{staticClass:"mb-0"},[e._v(" Version: "),i("a",{staticClass:"text-reset",attrs:{href:e.GitRepository+"/commit/"+e.GitHash}},[e._v(e._s(e.GitVersion))])]),i("p",[e._v(" GitHub: "),i("a",{staticClass:"text-reset",attrs:{href:e.GitRepository}},[e._v("gsparber/screening-timer")])])])},p=[],h=i("8f96"),v=i("c4ed"),b={name:"Footer",data:function(){return{GitHash:h,GitVersion:v,GitRepository:"https://www.github.com/gsparber/screening-timer"}}},g=b,_=(i("1888"),Object(u["a"])(g,f,p,!1,null,"4889a7c8",null)),S=_.exports,C={data:function(){return{refreshing:!1,registration:null,updateExists:!1}},created:function(){var e=this;document.addEventListener("swUpdated",this.updateAvailable,{once:!0}),navigator.serviceWorker.addEventListener("controllerchange",(function(){e.refreshing||(e.refreshing=!0,window.location.reload())}))},methods:{updateAvailable:function(e){this.registration=e.detail,this.updateExists=!0,this.$matomo.trackEvent("Anwendung","Aktualisieren","Aktualisierung - Verfügbar")},refreshApp:function(){var e=this;this.$swal.fire({title:"ACHUTUNG!! - Beim Aktualisieren werden alle Timer gestoppt!",text:"Sie können dies nicht rückgängig machen!",icon:"error",position:"top",showCancelButton:!0,confirmButtonColor:"#198754",cancelButtonColor:"#dc3545",cancelButtonText:"Abbrechen",confirmButtonText:"TIMER STOPPEN und Aktualisieren"}).then((function(t){if(t.isConfirmed){if(e.updateExists=!1,!e.registration||!e.registration.waiting)return;e.registration.waiting.postMessage({type:"SKIP_WAITING"}),e.$matomo.trackEvent("Anwendung","Aktualisieren","Aktualisieren - Gestartet")}}))}}},w={mixins:[C],components:{Navbar:d,Footer:S},data:function(){return{isKiosk:!1,userNotClicked:!1,isfullscreen:!1,publicPath:"/screening-timer/"}},created:function(){var e=window.location.search.substring(1),t=new URLSearchParams(e);t.get("kiosk")&&(this.isKiosk=!0)},methods:{startFullscreen:function(){this.isKiosk&&(this.userNotClicked||(this.userNotClicked=!0)),this.isKiosk||this.userNotClicked||(this.toggleFullscreen(),this.userNotClicked=!0)},toggleFullscreen:function(){this.isfullscreen?(this.exit_full_screen(),this.isfullscreen=!1):(this.go_full_screen(),this.isfullscreen=!0)},go_full_screen:function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():console.log("Fullscreen API is not supported.")},exit_full_screen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.log("Fullscreen API is not supported.")}}},T=w,k=(i("034f"),Object(u["a"])(T,s,r,!1,null,null,null)),x=k.exports,y=i("9483");Object(y["a"])("".concat("/screening-timer/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});i("7c04");var A=i("f9d5"),E=i.n(A),L=(i("4413"),i("ecee")),O=i("208c"),N=i("ad3d"),B=i("8c4f"),F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main"},[i("TimeDate"),i("div",{staticClass:"btn btn-outline-light btn-lg m-1",on:{click:function(t){return e.addTimer(60,30)}}},[e._v(" Neuer Timer "),i("strong",[e._v("60s")])]),i("div",{staticClass:"btn btn-outline-light btn-lg m-1",on:{click:function(t){return e.addTimer(120,30)}}},[e._v(" Neuer Timer "),i("strong",[e._v("120s")])]),i("Timers",{attrs:{timers:e.timers},on:{"del-timer":e.deleteTimer}}),i("div",{staticClass:"btn btn-outline-danger btn-sm m-1",on:{click:e.removeAll}},[e._v(" Alle Timer löschen! ")])],1)},R=[],$=(i("4de4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"TimeDate mt-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-12 col-md-6 col-lg-6"},[i("h1",{staticClass:"display-6 m-0"},[e._v("Aktuell:")]),i("h1",{staticClass:"display-1 time"},[e._v(e._s(e.time))]),i("h1",{staticClass:"display-6 date"},[e._v(e._s(e.date))])]),i("div",{staticClass:" col col-12 col-md-6 col-lg-6"},[i("h1",{staticClass:"display-6",staticStyle:{cursor:"pointer"},on:{click:e.setOffset}},[e._v("+ "+e._s(e.timeOffset)+" Min:")]),i("h1",{staticClass:"display-3 time"},[e._v(e._s(e.time_add5))])])])])}),P=[],j={name:"TimeDate",data:function(){return{timeOffset:15,time:"",time_add5:"",date:"",timeObj:null}},created:function(){var e=this;this.timeObj=setInterval((function(){var t=new Date,i=new Date;i.setMinutes(i.getMinutes()+e.timeOffset),e.time_add5=i.toLocaleTimeString(),e.time=t.toLocaleTimeString(),e.date=t.toLocaleDateString()}),1e3)},methods:{setOffset:function(){15===this.timeOffset?this.timeOffset=5:this.timeOffset=15}}},I=j,D=(i("9955"),Object(u["a"])(I,$,P,!1,null,"5bbf6135",null)),G=D.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},e._l(e.timers,(function(t,n){return i("div",{key:t.id,staticClass:"col col-12 col-md-4 col-lg-3"},[t.showSettings?i("TimerSettings",{attrs:{timer:t,timerNumber:n+1}}):i("Timer",{attrs:{timer:t,timerNumber:n+1},on:{"del-timer":function(i){return e.$emit("del-timer",t.id)}}})],1)})),0)},q=[],U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"p-4"},[i("div",{staticClass:"shadow p-3 mb-5 rounded text-center",class:{timer:0===e.timer.state,"bg-danger":1===e.timer.state,"bg-success-flash":2===e.timer.state},on:{click:e.clickHandler}},[i("div",{staticClass:"action-buttons"},[i("h3",[e._v(" "+e._s(e.timer.name)+" - "+e._s(e.timerNumber)+" "),0===e.timer.state?i("button",{staticClass:"btn btm-sm btn-outline-light btn-left",on:{click:function(t){return t.stopPropagation(),e.askDeleteTimer.apply(null,arguments)}}},[i("font-awesome-icon",{attrs:{icon:["fad","trash"]}})],1):e._e(),0===e.timer.state?i("button",{staticClass:"btn btm-sm btn-outline-light btn-right",on:{click:function(t){t.stopPropagation(),e.timer.showSettings=!0}}},[i("font-awesome-icon",{attrs:{icon:["fad","gear"]}})],1):e._e()])]),i("h6",[e._v(e._s(e.timer.sec)+" Sekunden")]),0===e.timer.state?i("div",{staticClass:"btn btn-light btn-lg"},[i("font-awesome-icon",{attrs:{icon:["fad","circle-play"]}}),e._v(" Starten ")],1):e._e(),1===e.timer.state?i("div",{staticClass:"btn btn-outline-light btn-lg"},[i("font-awesome-icon",{attrs:{icon:["fad","circle-stop"]}}),e._v(" Stoppen ")],1):e._e(),2===e.timer.state?i("div",{staticClass:"btn btn-light btn-lg"},[i("font-awesome-icon",{attrs:{icon:["fad","circle-left"]}}),e._v(" Reset ")],1):e._e(),i("div",{staticClass:"mt-4"},[i("h1",{staticClass:"display-4 timeLeft"},[e._v(e._s(e.timer.timeLeft))]),i("h4",[e._v("Sekunden")])]),e.timer.sec0?i("small",[e._v("2. Beep alle "+e._s(e.timer.sec0)+"s")]):e._e(),e.timer.sec0&e.timer.secReset?i("small",[e._v(" - ")]):e._e(),e.timer.secReset?i("small",[e._v("Reset bei "+e._s(e.timer.secReset)+"s")]):e._e()])])])},H=[],K=new Audio(i("1131")),V=new Audio(i("9c90")),z={name:"Timer",props:["timer","timerNumber"],methods:{clickHandler:function(){if(0!==this.timer.state)return 1===this.timer.state?this.askStopTimer():2===this.timer.state?this.stopTimer():void 0;this.startTimer()},startTimer:function(){var e=this;this.timer.state=1,this.timerInterval=setInterval((function(){e.timer.timeLeft-=1,e.currentTimeLeft(e.timer.timeLeft)}),1e3)},startTimerSecondBeep:function(){var e=this;this.timerIntervalSecond=setInterval((function(){e.timer.timeLeftSecond-=1,e.currentTimeLeftSecond(e.timer.timeLeftSecond)}),1e3)},askStopTimer:function(){var e=this;this.$swal.fire({title:"Sind Sie sicher?",text:"Sie können dies nicht rückgängig machen!",icon:"error",position:"top",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#198754",cancelButtonText:"Abbrechen",confirmButtonText:"Timer "+this.timerNumber+" - STOPPEN"}).then((function(t){t.isConfirmed&&e.stopTimer()}))},stopTimer:function(){clearInterval(this.timerInterval),clearInterval(this.timerIntervalSecond),this.timer.state=0,this.timer.timeLeft=this.timer.sec,this.timer.timeLeftSecond=this.timer.sec0},currentTimeLeft:function(e){0===e&&(this.playBeepSound(),this.startTimerSecondBeep()),e<0&&(this.timer.state=2),e<this.timer.secReset&&this.stopTimer()},currentTimeLeftSecond:function(e){0===e&&(this.playSecondBeepSound(),this.timer.timeLeftSecond=this.timer.sec0)},playBeepSound:function(){K.play()},playSecondBeepSound:function(){V.play()},askDeleteTimer:function(){var e=this;this.$swal.fire({title:"Sind Sie sicher?",text:"Sie können dies nicht rückgängig machen!",icon:"error",position:"top",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#198754",cancelButtonText:"Abbrechen",confirmButtonText:"Timer "+this.timerNumber+" - LÖSCHEN"}).then((function(t){t.isConfirmed&&e.deleteTimer()}))},deleteTimer:function(){this.$emit("del-timer",this.timer.id)}},destroyed:function(){this.stopTimer()}},J=z,W=(i("c912"),Object(u["a"])(J,U,H,!1,null,"020448da",null)),Z=W.exports,Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"p-4"},[i("div",{staticClass:"shadow p-3 mb-5 rounded text-center timerSettings"},[i("h3",[e._v(" "+e._s(e.timer.name)+" - "+e._s(e.timerNumber)+" ")]),i("h6",[e._v("Einstellungen")]),i("div",{staticClass:"input-group mb-3"},[i("span",{staticClass:"input-group-text"},[e._v("Timer läuft:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.timer.sec,expression:"timer.sec",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":e.errorSec},attrs:{type:"number",required:""},domProps:{value:e.timer.sec},on:{input:function(t){t.target.composing||e.$set(e.timer,"sec",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("s")]),e.errorSec?i("div",{staticClass:"invalid-feedback"},[e._v(" Bitte Zeit richtig eingeben! (=> 1) ")]):e._e()]),i("h6",[e._v("Ist Timer unter 0s dann:")]),i("form",{on:{submit:function(t){return t.preventDefault(),e.saveSettings.apply(null,arguments)}}},[i("div",{staticClass:"input-group mb-3"},[i("span",{staticClass:"input-group-text"},[e._v("2. Beep alle")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.timer.sec0,expression:"timer.sec0",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.timer.sec0},on:{input:function(t){t.target.composing||e.$set(e.timer,"sec0",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("s")])]),i("div",{staticClass:"input-group mb-3"},[i("span",{staticClass:"input-group-text"},[e._v("Reset bei")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.timer.secReset,expression:"timer.secReset",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.timer.secReset},on:{input:function(t){t.target.composing||e.$set(e.timer,"secReset",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),i("span",{staticClass:"input-group-text"},[e._v("s")])]),i("button",{staticClass:"btn btn-light btn-lg",attrs:{type:"submit"}},[i("font-awesome-icon",{attrs:{icon:["fad","circle-check"]}}),e._v(" Speichern ")],1)])])])])},X=[],Y={name:"TimerSettings",props:["timer","timerNumber"],data:function(){return{errorSec:!1}},methods:{saveSettings:function(){this.timer.sec>0?(this.errorSec=!1,this.timer.timeLeft=this.timer.sec,this.timer.timeLeftSecond=this.timer.sec0,this.timer.showSettings=!1):this.errorSec=!0}}},ee=Y,te=(i("4888"),Object(u["a"])(ee,Q,X,!1,null,"081c2544",null)),ie=te.exports,ne={name:"timers",components:{Timer:Z,TimerSettings:ie},props:["timers"]},se=ne,re=Object(u["a"])(se,M,q,!1,null,null,null),oe=re.exports,ce={name:"Main",components:{TimeDate:G,Timers:oe},data:function(){return{timers:[{id:1,name:"Timer",sec:60,sec0:30,secReset:-300,state:0,timeLeft:60,timeLeftSecond:30,showSettings:!1},{id:2,name:"Timer",sec:60,sec0:30,secReset:-300,state:0,timeLeft:60,timeLeftSecond:30,showSettings:!1},{id:3,name:"Timer",sec:60,sec0:30,secReset:-300,state:0,timeLeft:60,timeLeftSecond:30,showSettings:!1},{id:4,name:"Timer",sec:60,sec0:30,secReset:-300,state:0,timeLeft:60,timeLeftSecond:30,showSettings:!1}],nextTimerID:5}},created:function(){document.title="Screening Timer"},methods:{addTimer:function(e,t){this.timers.push({id:this.nextTimerID++,name:"Timer",sec:e,sec0:t,secReset:-300,state:0,timeLeft:e,timeLeftSecond:t,showSettings:!1})},removeAll:function(){var e=this;this.$swal.fire({title:"Sind Sie sicher? ",text:"Alle Timer werden Gestoppt! Sie können dies nicht rückgängig machen!",icon:"error",position:"top",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#198754",cancelButtonText:"Abbrechen",confirmButtonText:"ALLE TIMER - STOPPEN & LÖSCHEN"}).then((function(t){t.isConfirmed&&(e.timers=[])}))},deleteTimer:function(e){console.log("Delete timer "+e),this.timers=this.timers.filter((function(t){return t.id!==e}))}}},ae=ce,le=Object(u["a"])(ae,F,R,!1,null,null,null),ue=le.exports;n["a"].use(B["a"]);var me=[{path:"/",name:"Main",component:ue},{path:"/:catchAll(.*)",name:"Main",component:ue,meta:{requiresAuth:!1}}],de=new B["a"]({mode:"history",base:"/screening-timer/",routes:me}),fe=de;n["a"].use(E.a),L["c"].add(O["f"],O["e"],O["a"],O["c"],O["d"],O["b"]),n["a"].component("font-awesome-icon",N["a"]),n["a"].config.productionTip=!1,new n["a"]({router:fe,render:function(e){return e(x)}}).$mount("#app")},"5dfc":function(e,t,i){"use strict";i("cca2")},"7c04":function(e,t,i){},"8f96":function(e){e.exports=JSON.parse('"5fe2633"')},9930:function(e,t,i){},9955:function(e,t,i){"use strict";i("9930")},"9c90":function(e,t,i){e.exports=i.p+"media/beep0.0ef9be96.mp3"},c4ed:function(e){e.exports=JSON.parse('"v2.0.1"')},c912:function(e,t,i){"use strict";i("de42")},cb2c:function(e,t,i){},cca2:function(e,t,i){},d77a:function(e,t,i){},de42:function(e,t,i){}});
//# sourceMappingURL=app.86ae6694.js.map